# 클래스 기반 뷰의 모범적인 이용
장고는 클래스 기반 뷰를 작성하는 표준화된 방법을 제공함. 장고의 뷰는 요청 객체를 받고 응답 객체를 반환하는 내장 함수다. 함수 기반 뷰에서는 뷰 함수 자체가 내장 함수이고, 클래스 기반 뷰에서는 뷰 클래스가 내장 함수를 반환하는 as_view() 클래스 메서드를 제공한다. django.views.generic.View에서 해당 메커니즘이 구현되며, 모든 클래서 기반 뷰는 이 클래스를 직간접적으로 상속 받아 이용한다.
또한 장고는 요즘 대부분의 엡 프로젝트에서 이용되는 제네릭 클래스 기반 뷰를 제공하며 그 장점을 최대한 살리고 있다.
모든 뷰에 대한 체계가 잡히기 전에는 큰 혼란이 있었지만 현재는 여러 패키지 덕분에 많이 해결된 상태다.

## 클래스 기반 뷰를 이용할 때의 가이드라인
- 뷰 코드의 양은 적으면 적을수록 좋다.
- 뷰 안에서 같은 코드를 반복적으로 이용하지 말자.
- 뷰는 프레젠테이션 로직에서 관리하도록 하자. 비즈니스 로직은 모델에서 처리하자. 매우 특별한 경우에는 폼에서 처리하자.
- 뷰는 간단 명료해야 한다.
- 403, 404, 500 에러 핸들링에 클래스 기반뷰는 이용하지 않는다. 대신 함수 기반뷰를 이용하자.
- 믹스인 간단 명료해야 한다.

## 클래스 기반 뷰와 믹스인 이용하기
믹스인을 아이스크림 섞는 것에 비유하자면 아이스크림을 만들 때 캔디나 과일 심지어 베이컨까지 혼합하여 맛을 냄으로써 좀더 다양한 맛으로 발전시키는 것과 같다고 할 수 있다.
프로그래밍 에서는 믹스인이란 실체화된 클래스가 아니라 상속해 줄 기능들을 제공하는 클래스를 의미한다. 실체화된 상태를 의미하지는 않는다. 프로그래밍 언어에서 다중 상속을 해야 할 때 믹스인을 쓰면 클래스에 더 나은 기능과 역할을 제공한다.
믹스인을 이용해서 뷰 클래스를 제작할 때 다음과 같은 상속에 관한 규칙들을 따르자.
- 장고가 제공하는 기본 뷰는 '항상' 오른쪽으로 진행한다.
- 믹스인은 기본뷰에서부터 왼쪽으로 진행한다.
- 믹스인은 파이썬의 기본 객체 타입을 상속해야만 한다.
> 상세한 예제는 책을 참고하자

## 어떤 장고 제네릭 클래스 기반 뷰를 어떤 태스크에 이용할 것인가?
제네릭 클래스 기반 뷰의 장점은 단순화를 희생하여 얻은 결과다. 제네릭 클래스 기반뷰는 최대 8개의 슈퍼클래스가 상속되기도 하는 복합적인 상속체인이다.
정확히 어떤 뷰를 이용할지 또는 어떤 뷰를 커스터 마이징 할지 결정하는 것도 까다로운 문제다.

## 장고 클래스 기반뷰에 대한 일반적인 팁
여러 장고 클래스 기반 뷰와 제네릭 클래스 기반 뷰 구현에 있어서 유용한 팁을 주려고 한다.
### 인증된 사용자에게만 클래스 기반뷰 접근하게 하기
장고 클래스 기반 뷰 문서가 django.contrib.auth.decorators.login_required 데코레이터와 클래스 기반 뷰를 이용하는데 도움이 되긴 하지만, 예제들이 너무 정형화된 틀에 박혀있다.
다행히 django-braces에서 LoginRequiredMixin을 제공하고 있고 필요할 때 마다 이를 추가할 수 있다.

### 뷰에서 유효한 폼을 이용하여 커스텀 액션 구현하기뷰에서 폼의 유효성 검사를 할 때 커스텀 액션을 구현하고자 한다면, form_valid()는 제네릭 클래스 기반 뷰가 요청을 보내는 곳에 자리잡게 된다. 이미 체크된 폼에 커스텀 로직을 적용하고 싶을 경우, form_valid()에 로직을 추가하면 된다. 이 메소드의 반환형은 django.http.HttpResponseRedirect가 된다.

### 뷰에서 부적합한 폼을 이용하여 커스텀 로직 이용하기
form_invalid를 구현하고 이 메서드는 django.http.HttpResponse를 반환한다. (form_valid와 흡사)

### 뷰 객체 이용하기
//TODO